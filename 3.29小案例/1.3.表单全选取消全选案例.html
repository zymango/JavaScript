<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style>
		table{
			width: 300px;
			margin: 100px auto;
			text-align: center;
		}
	</style>
</head>
<body>
<div class="wrap">
	<table>
		<thead>
			<tr>
				<th>
					<input type="checkbox" name="" id = j_cbAll >
				</th>
				<th>商品</th>
				<th>价钱</th>
			</tr>
		</thead>
		<tbody id = "j_tb">
			<tr>
				<td>
					<input type="checkbox" name="">
				</td>
				<td>iPhone8</td>
				<td>8000</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" name="" >
				</td>
				<td>iPhone8</td>
				<td>8000</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" name="">
				</td>
				<td>iPhone8</td>
				<td>8000</td>
			</tr>
		</tbody>
	</table>
</div>
	<script>
		//1.全选和取消全选做法，让下面所有复选框的checked属性（选中状态）跟随全选按钮即可
		var j_cbAll = document.getElementById('j_cbAll');
		var j_tbs = document.getElementById('j_tb').getElementsByTagName('input');
		j_cbAll.onclick = function(){
			console.log(this.checked);
			for(var i = 0; i < j_tbs.length; i++){
				j_tbs[i].checked = this.checked;
			}
		}
		//2.下面复选框需要全部选中，上面全选才能选中做法：给下面所有复选框绑定点击事件，每次点击都要循环
		for(var i = 0; i < j_tbs.length; i++){
			j_tbs[i].onclick = function(){
				//flag控制全选按钮是否被选中
				var flag = true;
				//每次点击下面的复选框都要循环检查4个小按钮是否全被选中
				for(var i = 0; i < j_tbs.length; i++){
					if(!j_tbs[i].checked){
						flag = false;
						break;//退出for循环  这样可以提高执行效率，因为只要一个没有选中，剩下的就无需循环
					}
				}
				j_cbAll.checked = flag;
			}
		}
	</script>
</body>
</html>